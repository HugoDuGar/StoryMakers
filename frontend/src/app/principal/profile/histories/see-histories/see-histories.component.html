<section class="section about-section gray-bg" id="about">
    <div class="container">
        <div class="row align-items-center flex-row-reverse">
            <div class="col-lg-6">
                <div class="about-text go-to">
                    <h3 class="dark-color beautiful">{{ history.title }}</h3>
                    <h6 class="theme-color lead beautiful">{{ history.description }}</h6>
                    <div class="row about-list">
                        <div class="col-md-6">
                            <div class="media">
                                <label class="beautiful">Categoria</label>
                                <p class="beautiful">{{ history.category }}</p>
                            </div>
                            <div class="media">
                                <label class="beautiful">Audiencia principal</label>
                                <p class="beautiful">{{ history.audience }}</p>
                            </div>
                            <div class="media">
                                <label class="beautiful">Numero de capítulos</label>
                                <p class="beautiful">{{ chapters.length }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="media">
                                <label class="beautiful">Autor</label>
                                <p class="beautiful">{{ user.name }}</p>
                            </div>
                            <div class="media">
                                <button class="btn btn-success beautiful" [disabled]="addedHistory" (click)="addSavedHistory(history)">Agregar a la biblioteca</button>
                                <br>
                                <button class="btn btn-secondary beautiful" (click)="goBack()">Atrás</button>
                                <br>
                                <form (submit)="scoreStory($event)">
                                    <div class="form-group">
                                        <label for="rating" class="beautiful">Puntua la historia:</label>
                                        <div class="clasificacion">
                                            <input id="radio1" type="radio" name="stars" value="5">
                                            <label for="radio1">★</label>
                                            <input id="radio2" type="radio" name="stars" value="4">
                                            <label for="radio2">★</label>
                                            <input id="radio3" type="radio" name="stars" value="3">
                                            <label for="radio3">★</label>
                                            <input id="radio4" type="radio" name="stars" value="2">
                                            <label for="radio4">★</label>
                                            <input id="radio5" type="radio" name="stars" value="1">
                                            <label for="radio5">★</label>                             
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary beautiful" [disabled]="scoreMade">Puntuar</button>
                                    <button type="button" class="btn btn-success beautiful" (click)="updatePunctuation()">Actualizar puntuacion</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="about-avatar">
                    <img [src]="getImageUrl(history.category)" class="card-image" alt="...">
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div>
        <h2 class="beautiful">
          — Capítulos
          <br>
          <hr>
        </h2>
        <table class="table table-rounded table-row-bordered border gy-7 gs-7">
            <thead>
                <tr class="fw-semibold fs-6 text-gray-800 border-bottom-2 border-gray-200" *ngIf="chapters.length > 0">
                    <th class="beautiful">Número</th>
                    <th class="beautiful">Título</th>
                    <th class="beautiful">Ver</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let c of chapters">
                    <td class="beautiful">{{ c.number }}</td>
                    <td class="beautiful">{{ c.title }}</td>
                    <td class="beautiful"><button class="btn btn-primary" routerLink="/see-chapter/{{ c.id }}">Leer</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</section>