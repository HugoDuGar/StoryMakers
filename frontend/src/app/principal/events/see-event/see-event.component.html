<section class="section about-section gray-bg" id="about">
    <div class="container">
        <div class="row align-items-center flex-row-reverse">
            <div class="col-lg-6">
                <div class="about-text go-to">
                    <h3 class="dark-color beautiful">{{ event.name_event }}</h3>
                    <div class="row about-list">
                        <div class="col-md-6">
                            <div class="media">
                                <label class="beautiful">Reglas</label>
                                <p class="beautiful">{{ event.rules }}</p>
                            </div>
                            <div class="media">
                                <label class="beautiful">Premios</label>
                                <p class="beautiful">{{ event.awards }}</p>
                            </div>
                            <div class="media">
                                <label class="beautiful">Numero de participantes</label>
                                <p class="beautiful">{{ participants.length }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="media">
                                <label class="beautiful">Anfitrion</label>
                                <p class="beautiful">{{ userAdmin.name }}</p>
                            </div>
                            <div class="media">
                                <button class="btn btn-success beautiful" *ngIf="user.role == 'usuario' && event.close == 'No'" [disabled]="targetedUser" (click)="addParticipant()">Apuntarse</button>
                                <button class="btn btn-danger beautiful" *ngIf="user.role == 'admin'" [disabled]="event.close === 'Si'" (click)="closeEvent(event.id)">Cerrar evento</button>
                                <br>
                                <button class="btn btn-secondary beautiful" routerLink="/events">Atrás</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="about-avatar">
                    <img class="card-img-top" src="/assets/evento.jpg" alt="Card image cap">
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div>
        <h2 class="beautiful">
          — Descripción
          <br>
          <hr>
        </h2>
        <p class="beautiful">{{ event.description }}</p>
    </div>
    <hr *ngIf="user.role === 'admin'">
    <div *ngIf="user.role === 'admin'">
        <h2 class="beautiful">
            — Historias de los participantes
            <br>
            <hr>
        </h2>
        <div *ngIf="historiesForParticipants.length > 0">
            <div class="card book-border" style="width: 15rem; display: inline-flex; max-width: 50%;" *ngFor="let hp of historiesForParticipants">
              <img [src]="getImageUrl(hp.category)" class="card-img-top card-image" alt="...">
              <div class="card-body">
                <h5 class="card-title beautiful" style="max-height: 3.2em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical;">{{ hp.title }}</h5>
                <p class="card-text beautiful" style="max-height: 3.2em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">{{ hp.description }}</p>
                <a routerLink="/see-admin-history-for-event/{{ event.id }}/{{ hp.id }}" class="btn btn-primary beautiful">Ver más</a>
              </div>
            </div>
          </div>
    </div>
</section>
